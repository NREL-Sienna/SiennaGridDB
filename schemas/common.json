{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "ACBusType": {
      "enum": ["PQ", "PV", "REF", "ISOLATED", "SLACK"],
      "type": "string"
    },
    "AverageRateCurve": {
      "properties": {
        "curve_type": {
          "const": "AVERAGE_RATE",
          "type": "string"
        },
        "function_data": {
          "discriminator": {
            "mapping": {
              "LINEAR": "#/definitions/LinearFunctionData",
              "PIECEWISE_LINEAR": "#/definitions/PiecewiseLinearData",
              "QUADRATIC": "#/definitions/QuadraticFunctionData"
            },
            "propertyName": "function_type"
          },
          "oneOf": [
            {
              "$ref": "#/definitions/LinearFunctionData"
            },
            {
              "$ref": "#/definitions/QuadraticFunctionData"
            },
            {
              "$ref": "#/definitions/PiecewiseLinearData"
            }
          ]
        },
        "initial_input": {
          "type": "number"
        },
        "input_at_zero": {
          "type": "number"
        }
      },
      "required": ["function_data"],
      "title": "AverageRateCurve",
      "type": "object"
    },
    "CostCurve": {
      "properties": {
        "power_units": {
          "$ref": "#/definitions/UnitSystem"
        },
        "value_curve": {
          "$ref": "#/definitions/ValueCurve"
        },
        "variable_cost_type": {
          "const": "COST",
          "type": "string"
        },
        "vom_cost": {
          "$ref": "#/definitions/InputOutputCurve"
        }
      },
      "required": ["value_curve", "power_units", "vom_cost"],
      "title": "CostCurve",
      "type": "object"
    },
    "FuelCurve": {
      "properties": {
        "fuel_cost": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "number"
            }
          ]
        },
        "power_units": {
          "$ref": "#/definitions/UnitSystem"
        },
        "value_curve": {
          "$ref": "#/definitions/ValueCurve"
        },
        "variable_cost_type": {
          "const": "FUEL",
          "type": "string"
        },
        "vom_cost": {
          "$ref": "#/definitions/InputOutputCurve"
        }
      },
      "required": ["value_curve", "power_units", "fuel_cost", "vom_cost"],
      "title": "FuelCurve",
      "type": "object"
    },
    "FunctionData": {
      "discriminator": {
        "mapping": {
          "LINEAR": "#/definitions/LinearFunctionData",
          "PIECEWISE_LINEAR": "#/definitions/PiecewiseLinearData",
          "PIECEWISE_STEP": "#/definitions/PiecewiseStepData",
          "QUADRATIC": "#/definitions/QuadraticFunctionData"
        },
        "propertyName": "function_type"
      },
      "oneOf": [
        {
          "$ref": "#/definitions/LinearFunctionData"
        },
        {
          "$ref": "#/definitions/QuadraticFunctionData"
        },
        {
          "$ref": "#/definitions/PiecewiseLinearData"
        },
        {
          "$ref": "#/definitions/PiecewiseStepData"
        }
      ]
    },
    "IncrementalCurve": {
      "properties": {
        "curve_type": {
          "const": "INCREMENTAL",
          "type": "string"
        },
        "function_data": {
          "oneOf": [
            {
              "$ref": "#/definitions/LinearFunctionData"
            },
            {
              "$ref": "#/definitions/PiecewiseStepData"
            }
          ]
        },
        "initial_input": {
          "type": "number"
        },
        "input_at_zero": {
          "type": "number"
        }
      },
      "required": ["function_data"],
      "title": "IncrementalCurve",
      "type": "object"
    },
    "InputOutputCurve": {
      "default": {
        "function_data": {
          "constant_term": 0,
          "proportional_term": 0
        },
        "input_at_zero": 0
      },
      "properties": {
        "curve_type": {
          "const": "INPUT_OUTPUT",
          "type": "string"
        },
        "function_data": {
          "discriminator": {
            "mapping": {
              "LINEAR": "#/definitions/LinearFunctionData",
              "PIECEWISE_LINEAR": "#/definitions/PiecewiseLinearData",
              "QUADRATIC": "#/definitions/QuadraticFunctionData"
            },
            "propertyName": "function_type"
          },
          "oneOf": [
            {
              "$ref": "#/definitions/QuadraticFunctionData"
            },
            {
              "$ref": "#/definitions/LinearFunctionData"
            },
            {
              "$ref": "#/definitions/PiecewiseLinearData"
            }
          ]
        },
        "input_at_zero": {
          "type": "number"
        }
      },
      "required": ["function_data"],
      "title": "InputOutputCurve",
      "type": "object"
    },
    "LinearFunctionData": {
      "properties": {
        "constant_term": {
          "type": "number"
        },
        "function_type": {
          "const": "LINEAR",
          "type": "string"
        },
        "proportional_term": {
          "type": "number"
        }
      },
      "required": ["proportional_term", "constant_term"],
      "title": "LinearFunctionData",
      "type": "object"
    },
    "MinMax": {
      "properties": {
        "max": {
          "title": "Max",
          "type": "number"
        },
        "min": {
          "title": "Min",
          "type": "number"
        }
      },
      "title": "MinMax",
      "type": "object"
    },
    "PiecewiseLinearData": {
      "properties": {
        "function_type": {
          "const": "PIECEWISE_LINEAR",
          "type": "string"
        },
        "points": {
          "items": {
            "$ref": "#/definitions/XY_Coords"
          },
          "type": "array"
        }
      },
      "required": ["points"],
      "title": "PiecewiseLinearData",
      "type": "object"
    },
    "PiecewiseStepData": {
      "properties": {
        "function_type": {
          "const": "PIECEWISE_STEP",
          "type": "string"
        },
        "x_coords": {
          "items": {
            "type": "number"
          },
          "type": "array"
        },
        "y_coords": {
          "items": {
            "type": "number"
          },
          "type": "array"
        }
      },
      "required": ["x_coords", "y_coords"],
      "title": "PiecewiseStepData",
      "type": "object"
    },
    "PrimeMovers": {
      "enum": [
        "BA",
        "BT",
        "CA",
        "CC",
        "CE",
        "CP",
        "CS",
        "CT",
        "ES",
        "FC",
        "FW",
        "GT",
        "HA",
        "HB",
        "HK",
        "HY",
        "IC",
        "PS",
        "OT",
        "ST",
        "PVe",
        "WT",
        "WS"
      ],
      "type": "string"
    },
    "ProductionVariableCostCurve": {
      "discriminator": {
        "mapping": {
          "COST": "#/definitions/CostCurve",
          "FUEL": "#/definitions/FuelCurve"
        },
        "propertyName": "variable_cost_type"
      },
      "oneOf": [
        {
          "$ref": "#/definitions/CostCurve"
        },
        {
          "$ref": "#/definitions/FuelCurve"
        }
      ]
    },
    "QuadraticFunctionData": {
      "properties": {
        "constant_term": {
          "type": "number"
        },
        "function_type": {
          "const": "QUADRATIC",
          "type": "string"
        },
        "proportional_term": {
          "type": "number"
        },
        "quadratic_term": {
          "type": "number"
        }
      },
      "required": ["quadratic_term", "proportional_term", "constant_term"],
      "title": "QuadraticFunctionData",
      "type": "object"
    },
    "StartUpStages": {
      "properties": {
        "cold": {
          "type": "number"
        },
        "hot": {
          "type": "number"
        },
        "warm": {
          "type": "number"
        }
      },
      "required": ["hot", "warm", "cold"],
      "title": "StartUpStages",
      "type": "object"
    },
    "ThermalFuels": {
      "description": "Thermal fuels that reflect options in the EIA annual energy review.",
      "enum": [
        "COAL",
        "WASTE_COAL",
        "DISTILLATE_FUEL_OIL",
        "WASTE_OIL",
        "PETROLEUM_COKE",
        "RESIDUAL_FUEL_OIL",
        "NATURAL_GAS",
        "OTHER_GAS",
        "NUCLEAR",
        "AG_BIPRODUCT",
        "MUNICIPAL_WASTE",
        "WOOD_WASTE",
        "GEOTHERMAL",
        "OTHER"
      ],
      "title": "ThermalFuels",
      "type": "string"
    },
    "ThermalGenerationCost": {
      "description": "Cost representation for thermal generation units",
      "properties": {
        "fixed": {
          "description": "Fixed cost of keeping the unit online. For some cost represenations this field can be duplicative",
          "type": "number"
        },
        "shut_down": {
          "description": "Cost to turn the unit off",
          "type": "number"
        },
        "start_up": {
          "description": "Start-up cost can take linear or multi-stage cost",
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/definitions/StartUpStages"
            }
          ]
        },
        "variable": {
          "$ref": "#/definitions/ProductionVariableCostCurve"
        }
      },
      "required": ["variable", "fixed", "start_up", "shut_down"],
      "type": "object"
    },
    "UnitSystem": {
      "enum": ["SYSTEM_BASE", "DEVICE_BASE", "NATURAL_UNITS"],
      "type": "string"
    },
    "UpDown": {
      "properties": {
        "down": {
          "title": "Down",
          "type": "number"
        },
        "up": {
          "title": "Up",
          "type": "number"
        }
      },
      "required": ["up", "down"],
      "title": "UpDown",
      "type": "object"
    },
    "ValueCurve": {
      "discriminator": {
        "mapping": {
          "AVERAGE_RATE": "#/definitions/AverageRateCurve",
          "INCREMENTAL": "#/definitions/IncrementalCurve",
          "INPUT_OUTPUT": "#/definitions/InputOutputCurve"
        },
        "propertyName": "curve_type"
      },
      "oneOf": [
        {
          "$ref": "#/definitions/InputOutputCurve"
        },
        {
          "$ref": "#/definitions/IncrementalCurve"
        },
        {
          "$ref": "#/definitions/AverageRateCurve"
        }
      ]
    },
    "XY_Coords": {
      "properties": {
        "x": {
          "type": "number"
        },
        "y": {
          "type": "number"
        }
      },
      "required": ["x", "y"],
      "type": "object"
    }
  },
  "id": "#root"
}
