{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "id": "#root",
    "definitions": {
        "ThermalGenerationCost": {
            "description": "Cost representation for thermal generation units",
            "type": "object",
            "properties": {
                "variable": {
                    "$ref": "#/definitions/ProductionVariableCostCurve"
                },
                "fixed": {
                    "description": "Fixed cost of keeping the unit online. For some cost represenations this field can be duplicative",
                    "type": "number"
                },
                "start_up": {
                    "oneOf": [
                        {
                            "type": "number"
                        },
                        {
                            "$ref": "#/definitions/StartUpStages"
                        }
                    ],
                    "description": "Start-up cost can take linear or multi-stage cost"
                },
                "shut_down": {
                    "description": "Cost to turn the unit off",
                    "type": "number"
                }
            },
            "required": [
                "variable",
                "fixed",
                "start_up",
                "shut_down"
            ]
        },
        "StartUpStages": {
            "type": "object",
            "title": "StartUpStages",
            "properties": {
                "hot": {
                    "type": "number"
                },
                "warm": {
                    "type": "number"
                },
                "cold": {
                    "type": "number"
                }
            },
            "required": [
                "hot",
                "warm",
                "cold"
            ]
        },
        "UnitSystem": {
            "type": "string",
            "enum": [
                "SYSTEM_BASE",
                "DEVICE_BASE",
                "NATURAL_UNITS"
            ]
        },
        "ProductionVariableCostCurve": {
            "oneOf": [
                {
                    "$ref": "#/definitions/CostCurve"
                },
                {
                    "$ref": "#/definitions/FuelCurve"
                }
            ],
            "discriminator": {
                "propertyName": "variable_cost_type",
                "mapping": {
                    "COST": "#/definitions/CostCurve",
                    "FUEL": "#/definitions/FuelCurve"
                }
            }
        },
        "CostCurve": {
            "title": "CostCurve",
            "properties": {
                "variable_cost_type": {
                    "type": "string",
                    "const": "COST"
                },
                "value_curve": {
                    "$ref": "#/definitions/ValueCurve"
                },
                "power_units": {
                    "$ref": "#/definitions/UnitSystem"
                },
                "vom_cost": {
                    "$ref": "#/definitions/InputOutputCurve"
                }
            },
            "required": [
                "value_curve",
                "power_units",
                "vom_cost"
            ],
            "type": "object"
        },
        "FuelCurve": {
            "title": "FuelCurve",
            "properties": {
                "variable_cost_type": {
                    "type": "string",
                    "const": "FUEL"
                },
                "value_curve": {
                    "$ref": "#/definitions/ValueCurve"
                },
                "power_units": {
                    "$ref": "#/definitions/UnitSystem"
                },
                "fuel_cost": {
                    "oneOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "number"
                        }
                    ]
                },
                "vom_cost": {
                    "$ref": "#/definitions/InputOutputCurve"
                }
            },
            "required": [
                "value_curve",
                "power_units",
                "fuel_cost",
                "vom_cost"
            ],
            "type": "object"
        },
        "ValueCurve": {
            "oneOf": [
                {
                    "$ref": "#/definitions/InputOutputCurve"
                },
                {
                    "$ref": "#/definitions/IncrementalCurve"
                },
                {
                    "$ref": "#/definitions/AverageRateCurve"
                }
            ],
            "discriminator": {
                "propertyName": "curve_type",
                "mapping": {
                    "INPUT_OUTPUT": "#/definitions/InputOutputCurve",
                    "INCREMENTAL": "#/definitions/IncrementalCurve",
                    "AVERAGE_RATE": "#/definitions/AverageRateCurve"
                }
            }
        },
        "FunctionData": {
            "oneOf": [
                {
                    "$ref": "#/definitions/LinearFunctionData"
                },
                {
                    "$ref": "#/definitions/QuadraticFunctionData"
                },
                {
                    "$ref": "#/definitions/PiecewiseLinearData"
                },
                {
                    "$ref": "#/definitions/PiecewiseStepData"
                }
            ],
            "discriminator": {
                "propertyName": "function_type",
                "mapping": {
                    "LINEAR": "#/definitions/LinearFunctionData",
                    "QUADRATIC": "#/definitions/QuadraticFunctionData",
                    "PIECEWISE_LINEAR": "#/definitions/PiecewiseLinearData",
                    "PIECEWISE_STEP": "#/definitions/PiecewiseStepData"
                }
            }
        },
        "LinearFunctionData": {
            "title": "LinearFunctionData",
            "properties": {
                "function_type": {
                    "type": "string",
                    "const": "LINEAR"
                },
                "proportional_term": {
                    "type": "number"
                },
                "constant_term": {
                    "type": "number"
                }
            },
            "required": [
                "proportional_term",
                "constant_term"
            ],
            "type": "object"
        },
        "QuadraticFunctionData": {
            "title": "QuadraticFunctionData",
            "properties": {
                "function_type": {
                    "type": "string",
                    "const": "QUADRATIC"
                },
                "quadratic_term": {
                    "type": "number"
                },
                "proportional_term": {
                    "type": "number"
                },
                "constant_term": {
                    "type": "number"
                }
            },
            "required": [
                "quadratic_term",
                "proportional_term",
                "constant_term"
            ],
            "type": "object"
        },
        "XY_Coords": {
            "type": "object",
            "properties": {
                "x": {
                    "type": "number"
                },
                "y": {
                    "type": "number"
                }
            },
            "required": [
                "x",
                "y"
            ]
        },
        "PiecewiseLinearData": {
            "title": "PiecewiseLinearData",
            "type": "object",
            "properties": {
                "function_type": {
                    "type": "string",
                    "const": "PIECEWISE_LINEAR"
                },
                "points": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/XY_Coords"
                    }
                }
            },
            "required": [
                "points"
            ]
        },
        "PiecewiseStepData": {
            "title": "PiecewiseStepData",
            "type": "object",
            "properties": {
                "function_type": {
                    "type": "string",
                    "const": "PIECEWISE_STEP"
                },
                "x_coords": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    }
                },
                "y_coords": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    }
                }
            },
            "required": [
                "x_coords",
                "y_coords"
            ]
        },
        "InputOutputCurve": {
            "title": "InputOutputCurve",
            "type": "object",
            "properties": {
                "curve_type": {
                    "type": "string",
                    "const": "INPUT_OUTPUT"
                },
                "function_data": {
                    "oneOf": [
                        {
                            "$ref": "#/definitions/QuadraticFunctionData"
                        },
                        {
                            "$ref": "#/definitions/LinearFunctionData"
                        },
                        {
                            "$ref": "#/definitions/PiecewiseLinearData"
                        }
                    ],
                    "discriminator": {
                        "propertyName": "function_type",
                        "mapping": {
                            "QUADRATIC": "#/definitions/QuadraticFunctionData",
                            "LINEAR": "#/definitions/LinearFunctionData",
                            "PIECEWISE_LINEAR": "#/definitions/PiecewiseLinearData"
                        }
                    }
                },
                "input_at_zero": {
                    "type": "number"
                }
            },
            "required": [
                "function_data"
            ],
            "default": {
                "function_data": {
                    "proportional_term": 0,
                    "constant_term": 0
                },
                "input_at_zero": 0
            }
        },
        "IncrementalCurve": {
            "title": "IncrementalCurve",
            "type": "object",
            "properties": {
                "curve_type": {
                    "type": "string",
                    "const": "INCREMENTAL"
                },
                "function_data": {
                    "oneOf": [
                        {
                            "$ref": "#/definitions/LinearFunctionData"
                        },
                        {
                            "$ref": "#/definitions/PiecewiseStepData"
                        }
                    ]
                },
                "initial_input": {
                    "type": "number"
                },
                "input_at_zero": {
                    "type": "number"
                }
            },
            "required": [
                "function_data"
            ]
        },
        "AverageRateCurve": {
            "title": "AverageRateCurve",
            "type": "object",
            "properties": {
                "curve_type": {
                    "type": "string",
                    "const": "AVERAGE_RATE"
                },
                "function_data": {
                    "oneOf": [
                        {
                            "$ref": "#/definitions/LinearFunctionData"
                        },
                        {
                            "$ref": "#/definitions/QuadraticFunctionData"
                        },
                        {
                            "$ref": "#/definitions/PiecewiseLinearData"
                        }
                    ],
                    "discriminator": {
                        "propertyName": "function_type",
                        "mapping": {
                            "LINEAR": "#/definitions/LinearFunctionData",
                            "QUADRATIC": "#/definitions/QuadraticFunctionData",
                            "PIECEWISE_LINEAR": "#/definitions/PiecewiseLinearData"
                        }
                    }
                },
                "initial_input": {
                    "type": "number"
                },
                "input_at_zero": {
                    "type": "number"
                }
            },
            "required": [
                "function_data"
            ]
        },
        "MinMax": {
            "title": "MinMax",
            "type": "object",
            "properties": {
                "min": {
                    "title": "Min",
                    "type": [
                        "null",
                        "number"
                    ]
                },
                "max": {
                    "title": "Max",
                    "type": [
                        "null",
                        "number"
                    ]
                }
            }
        },
        "PrimeMovers": {
            "type": "string",
            "enum": [
                "BA",
                "BT",
                "CA",
                "CC",
                "CE",
                "CP",
                "CS",
                "CT",
                "ES",
                "FC",
                "FW",
                "GT",
                "HA",
                "HB",
                "HK",
                "HY",
                "IC",
                "PS",
                "OT",
                "ST",
                "PVe",
                "WT",
                "WS"
            ]
        },
        "ThermalFuels": {
            "description": "Thermal fuels that reflect options in the EIA annual energy review.",
            "enum": [
                "COAL",
                "WASTE_COAL",
                "DISTILLATE_FUEL_OIL",
                "WASTE_OIL",
                "PETROLEUM_COKE",
                "RESIDUAL_FUEL_OIL",
                "NATURAL_GAS",
                "OTHER_GAS",
                "NUCLEAR",
                "AG_BIPRODUCT",
                "MUNICIPAL_WASTE",
                "WOOD_WASTE",
                "GEOTHERMAL",
                "OTHER"
            ],
            "title": "ThermalFuels",
            "type": "string"
        },
        "UpDown": {
            "properties": {
                "up": {
                    "title": "Up",
                    "type": "number"
                },
                "down": {
                    "title": "Down",
                    "type": "number"
                }
            },
            "required": [
                "up",
                "down"
            ],
            "title": "UpDown",
            "type": "object"
        },
        "ACBusType": {
            "type": "string",
            "enum": [
                "PQ",
                "PV",
                "REF",
                "ISOLATED",
                "SLACK"
            ]
        }
    }
}